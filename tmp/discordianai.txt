I've made you a new branch and switched to it. Please review all of the SMART ROUTING PATTERNS used with the `smart_orchestrator.py` and associated documentation. Then review the code for logic flaws or inconsistencies in outcome vs. expectations of the features and documentation. Make suggestions for improvements to the routing patterns for better contexual awareness and routing. If we need to expand keywords or anything we can absolutely do that as extensive coverage is key. If OpenAI responds with something about "I can't search the web" or any error or response like it doesn't have internet access we should intercept that and auto-magically reroute to Perplexity (I don't know if there is an error code or metadata that reflects that in the response when it comes back from OpenAI or if it's something the reasoning misses). Make suggestions for improvements or places we're missing common patterns that would apply in these situations.

Please think about all this and make a grand plan that we can document in case we get cut off. We'll discuss the plan before proceeding. You should act as an Principle SRE and QA Engineer who is an advanced AI Engineer versed in Pyhon experience and knowledable of Discord and chatbots.

I've attached a recent chat log as well for reference to some of my troubles where it wasn't doing searches when I expected then suddenly started. 