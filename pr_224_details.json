{"comments":[{"author":{"login":"github-actions"},"authorAssociation":"NONE","body":"<h1>Dependency Review</h1>\nThe following issues were found:<ul><li>‚úÖ 0 vulnerable package(s)</li><li>‚úÖ 0 package(s) with incompatible licenses</li><li>‚úÖ 0 package(s) with invalid SPDX license definitions</li><li>‚ö†Ô∏è 1 package(s) with unknown licenses.</li></ul>\nSee the Details below.<h2>License Issues</h2>\n<h4><em>requirements.txt</em></h4>\n<table><tr><td>Package</td><td>Version</td><td>License</td><td>Issue Type</td></tr><tr><td><a href=\"https://github.com/aio-libs/aiohttp\">aiohttp</a></td><td>3.13.3</td><td>Null</td><td>Unknown License</td></tr></table>\n<blockquote><details><summary><strong>Allowed Licenses</strong>:</summary> MIT, Apache-2.0, BSD-2-Clause, BSD-3-Clause, ISC, PSF-2.0, Unlicense, LGPL-2.1, LGPL-3.0, MPL-2.0</details></blockquote>\n<h2>OpenSSF Scorecard</h2>\n<table><tr><th>Package</th><th>Version</th><th>Score</th><th>Details</th></tr>\n<tr><td><a href=\"https://github.com/aio-libs/aiohttp\"> pip/aiohttp </a></td><td>3.13.3</td>\n      <td>:green_circle: 6.6</td><td><details><summary>Details</summary><table><tr><th>Check</th><th>Score</th><th>Reason</th></tr><tr><td>Code-Review</td><td>:green_circle: 3</td><td>Found 7/22 approved changesets -- score normalized to 3</td></tr><tr><td>Maintained</td><td>:green_circle: 10</td><td>30 commit(s) and 23 issue activity found in the last 90 days -- score normalized to 10</td></tr><tr><td>Dangerous-Workflow</td><td>:green_circle: 10</td><td>no dangerous workflow patterns detected</td></tr><tr><td>CII-Best-Practices</td><td>:warning: 0</td><td>no effort to earn an OpenSSF best practices badge detected</td></tr><tr><td>Token-Permissions</td><td>:warning: 0</td><td>detected GitHub workflow tokens with excessive permissions</td></tr><tr><td>Binary-Artifacts</td><td>:green_circle: 10</td><td>no binaries found in the repo</td></tr><tr><td>License</td><td>:green_circle: 9</td><td>license file detected</td></tr><tr><td>Fuzzing</td><td>:green_circle: 10</td><td>project is fuzzed</td></tr><tr><td>Vulnerabilities</td><td>:green_circle: 10</td><td>0 existing vulnerabilities detected</td></tr><tr><td>Branch-Protection</td><td>:warning: -1</td><td>internal error: error during branchesHandler.setup: internal error: some github tokens can't read classic branch protection rules: https://github.com/ossf/scorecard-action/blob/main/docs/authentication/fine-grained-auth-token.md</td></tr><tr><td>Security-Policy</td><td>:green_circle: 10</td><td>security policy file detected</td></tr><tr><td>Pinned-Dependencies</td><td>:warning: 0</td><td>dependency not pinned by hash detected -- score normalized to 0</td></tr><tr><td>Packaging</td><td>:green_circle: 10</td><td>packaging workflow detected</td></tr><tr><td>SAST</td><td>:green_circle: 7</td><td>SAST tool detected but not run on all commits</td></tr><tr><td>Signed-Releases</td><td>:warning: 1</td><td>1 out of the last 5 releases have a total of 1 signed artifacts.</td></tr></table></details></td></tr>\n<tr><td><a href=\"https://github.com/agronholm/anyio\"> pip/anyio </a></td><td>4.12.1</td>\n      <td>:green_circle: 5.6</td><td><details><summary>Details</summary><table><tr><th>Check</th><th>Score</th><th>Reason</th></tr><tr><td>Maintained</td><td>:green_circle: 10</td><td>30 commit(s) and 16 issue activity found in the last 90 days -- score normalized to 10</td></tr><tr><td>Binary-Artifacts</td><td>:green_circle: 10</td><td>no binaries found in the repo</td></tr><tr><td>Dangerous-Workflow</td><td>:green_circle: 10</td><td>no dangerous workflow patterns detected</td></tr><tr><td>Code-Review</td><td>:green_circle: 5</td><td>Found 11/19 approved changesets -- score normalized to 5</td></tr><tr><td>Token-Permissions</td><td>:warning: 0</td><td>detected GitHub workflow tokens with excessive permissions</td></tr><tr><td>CII-Best-Practices</td><td>:warning: 0</td><td>no effort to earn an OpenSSF best practices badge detected</td></tr><tr><td>Pinned-Dependencies</td><td>:warning: 0</td><td>dependency not pinned by hash detected -- score normalized to 0</td></tr><tr><td>Vulnerabilities</td><td>:green_circle: 10</td><td>0 existing vulnerabilities detected</td></tr><tr><td>Security-Policy</td><td>:warning: 0</td><td>security policy file not detected</td></tr><tr><td>Fuzzing</td><td>:warning: 0</td><td>project is not fuzzed</td></tr><tr><td>License</td><td>:green_circle: 10</td><td>license file detected</td></tr><tr><td>Signed-Releases</td><td>:warning: -1</td><td>no releases found</td></tr><tr><td>Packaging</td><td>:green_circle: 10</td><td>packaging workflow detected</td></tr><tr><td>Branch-Protection</td><td>:warning: -1</td><td>internal error: error during branchesHandler.setup: internal error: some github tokens can't read classic branch protection rules: https://github.com/ossf/scorecard-action/blob/main/docs/authentication/fine-grained-auth-token.md</td></tr><tr><td>SAST</td><td>:warning: 0</td><td>SAST tool is not run on all commits -- score normalized to 0</td></tr></table></details></td></tr>\n<tr><td><a href=\"https://github.com/certifi/python-certifi\"> pip/certifi </a></td><td>2026.1.4</td>\n      <td>:green_circle: 6.8</td><td><details><summary>Details</summary><table><tr><th>Check</th><th>Score</th><th>Reason</th></tr><tr><td>Code-Review</td><td>:green_circle: 4</td><td>Found 2/5 approved changesets -- score normalized to 4</td></tr><tr><td>Maintained</td><td>:green_circle: 10</td><td>15 commit(s) and 1 issue activity found in the last 90 days -- score normalized to 10</td></tr><tr><td>Dangerous-Workflow</td><td>:green_circle: 10</td><td>no dangerous workflow patterns detected</td></tr><tr><td>Binary-Artifacts</td><td>:green_circle: 10</td><td>no binaries found in the repo</td></tr><tr><td>Security-Policy</td><td>:green_circle: 10</td><td>security policy file detected</td></tr><tr><td>Pinned-Dependencies</td><td>:green_circle: 5</td><td>dependency not pinned by hash detected -- score normalized to 5</td></tr><tr><td>Token-Permissions</td><td>:green_circle: 10</td><td>GitHub workflow tokens follow principle of least privilege</td></tr><tr><td>CII-Best-Practices</td><td>:warning: 0</td><td>no effort to earn an OpenSSF best practices badge detected</td></tr><tr><td>Vulnerabilities</td><td>:green_circle: 10</td><td>0 existing vulnerabilities detected</td></tr><tr><td>Fuzzing</td><td>:warning: 0</td><td>project is not fuzzed</td></tr><tr><td>Signed-Releases</td><td>:warning: -1</td><td>no releases found</td></tr><tr><td>License</td><td>:green_circle: 9</td><td>license file detected</td></tr><tr><td>Branch-Protection</td><td>:warning: 0</td><td>branch protection not enabled on development/release branches</td></tr><tr><td>Packaging</td><td>:green_circle: 10</td><td>packaging workflow detected</td></tr><tr><td>SAST</td><td>:warning: 0</td><td>SAST tool is not run on all commits -- score normalized to 0</td></tr></table></details></td></tr>\n<tr><td><a href=\"https://github.com/openai/openai-python\"> pip/openai </a></td><td>2.14.0</td>\n      <td>:green_circle: 6.2</td><td><details><summary>Details</summary><table><tr><th>Check</th><th>Score</th><th>Reason</th></tr><tr><td>Code-Review</td><td>:warning: -1</td><td>Found no human activity in the last 7 changesets</td></tr><tr><td>Maintained</td><td>:green_circle: 10</td><td>30 commit(s) and 5 issue activity found in the last 90 days -- score normalized to 10</td></tr><tr><td>Dangerous-Workflow</td><td>:green_circle: 10</td><td>no dangerous workflow patterns detected</td></tr><tr><td>Packaging</td><td>:warning: -1</td><td>packaging workflow not detected</td></tr><tr><td>Security-Policy</td><td>:green_circle: 10</td><td>security policy file detected</td></tr><tr><td>Token-Permissions</td><td>:warning: 0</td><td>detected GitHub workflow tokens with excessive permissions</td></tr><tr><td>CII-Best-Practices</td><td>:warning: 0</td><td>no effort to earn an OpenSSF best practices badge detected</td></tr><tr><td>Binary-Artifacts</td><td>:green_circle: 10</td><td>no binaries found in the repo</td></tr><tr><td>Pinned-Dependencies</td><td>:warning: 0</td><td>dependency not pinned by hash detected -- score normalized to 0</td></tr><tr><td>Vulnerabilities</td><td>:green_circle: 10</td><td>0 existing vulnerabilities detected</td></tr><tr><td>Fuzzing</td><td>:warning: 0</td><td>project is not fuzzed</td></tr><tr><td>Signed-Releases</td><td>:warning: -1</td><td>no releases found</td></tr><tr><td>Branch-Protection</td><td>:warning: -1</td><td>internal error: error during branchesHandler.setup: internal error: some github tokens can't read classic branch protection rules: https://github.com/ossf/scorecard-action/blob/main/docs/authentication/fine-grained-auth-token.md</td></tr><tr><td>License</td><td>:green_circle: 10</td><td>license file detected</td></tr><tr><td>SAST</td><td>:warning: 0</td><td>SAST tool is not run on all commits -- score normalized to 0</td></tr></table></details></td></tr>\n<tr><td><a href=\"https://github.com/facelessuser/soupsieve\"> pip/soupsieve </a></td><td>2.8.1</td>\n      <td>:green_circle: 5.4</td><td><details><summary>Details</summary><table><tr><th>Check</th><th>Score</th><th>Reason</th></tr><tr><td>Maintained</td><td>:green_circle: 3</td><td>3 commit(s) and 1 issue activity found in the last 90 days -- score normalized to 3</td></tr><tr><td>Dangerous-Workflow</td><td>:green_circle: 10</td><td>no dangerous workflow patterns detected</td></tr><tr><td>Code-Review</td><td>:warning: 1</td><td>Found 4/28 approved changesets -- score normalized to 1</td></tr><tr><td>Security-Policy</td><td>:green_circle: 10</td><td>security policy file detected</td></tr><tr><td>Binary-Artifacts</td><td>:green_circle: 10</td><td>no binaries found in the repo</td></tr><tr><td>Token-Permissions</td><td>:warning: 0</td><td>detected GitHub workflow tokens with excessive permissions</td></tr><tr><td>CII-Best-Practices</td><td>:warning: 0</td><td>no effort to earn an OpenSSF best practices badge detected</td></tr><tr><td>Pinned-Dependencies</td><td>:warning: 0</td><td>dependency not pinned by hash detected -- score normalized to 0</td></tr><tr><td>Vulnerabilities</td><td>:green_circle: 10</td><td>0 existing vulnerabilities detected</td></tr><tr><td>Fuzzing</td><td>:green_circle: 10</td><td>project is fuzzed</td></tr><tr><td>License</td><td>:green_circle: 10</td><td>license file detected</td></tr><tr><td>Packaging</td><td>:green_circle: 10</td><td>packaging workflow detected</td></tr><tr><td>Signed-Releases</td><td>:warning: -1</td><td>no releases found</td></tr><tr><td>Branch-Protection</td><td>:warning: 1</td><td>branch protection is not maximal on development and all release branches</td></tr><tr><td>SAST</td><td>:warning: 0</td><td>SAST tool is not run on all commits -- score normalized to 0</td></tr></table></details></td></tr>\n<tr><td><a href=\"https://github.com/urllib3/urllib3\"> pip/urllib3 </a></td><td>2.6.2</td>\n      <td>:green_circle: 8.6</td><td><details><summary>Details</summary><table><tr><th>Check</th><th>Score</th><th>Reason</th></tr><tr><td>Binary-Artifacts</td><td>:green_circle: 10</td><td>no binaries found in the repo</td></tr><tr><td>Branch-Protection</td><td>:green_circle: 5</td><td>branch protection is not maximal on development and all release branches</td></tr><tr><td>CI-Tests</td><td>:green_circle: 10</td><td>28 out of 28 merged PRs checked by a CI test -- score normalized to 10</td></tr><tr><td>CII-Best-Practices</td><td>:green_circle: 5</td><td>badge detected: Passing</td></tr><tr><td>Code-Review</td><td>:green_circle: 9</td><td>Found 18/20 approved changesets -- score normalized to 9</td></tr><tr><td>Contributors</td><td>:green_circle: 10</td><td>project has 125 contributing companies or organizations</td></tr><tr><td>Dangerous-Workflow</td><td>:green_circle: 10</td><td>no dangerous workflow patterns detected</td></tr><tr><td>Dependency-Update-Tool</td><td>:green_circle: 10</td><td>update tool detected</td></tr><tr><td>Fuzzing</td><td>:green_circle: 10</td><td>project is fuzzed</td></tr><tr><td>License</td><td>:green_circle: 10</td><td>license file detected</td></tr><tr><td>Maintained</td><td>:green_circle: 10</td><td>30 commit(s) and 13 issue activity found in the last 90 days -- score normalized to 10</td></tr><tr><td>Packaging</td><td>:green_circle: 10</td><td>packaging workflow detected</td></tr><tr><td>Pinned-Dependencies</td><td>:green_circle: 8</td><td>dependency not pinned by hash detected -- score normalized to 8</td></tr><tr><td>SAST</td><td>:green_circle: 10</td><td>SAST tool is run on all commits</td></tr><tr><td>Security-Policy</td><td>:green_circle: 10</td><td>security policy file detected</td></tr><tr><td>Signed-Releases</td><td>:warning: 0</td><td>Project has not signed or included provenance with any releases.</td></tr><tr><td>Token-Permissions</td><td>:green_circle: 10</td><td>GitHub workflow tokens follow principle of least privilege</td></tr><tr><td>Vulnerabilities</td><td>:green_circle: 10</td><td>0 existing vulnerabilities detected</td></tr></table></details></td></tr>\n</table><h2>Scanned Files</h2>\n<ul><li>requirements.txt</li></ul>\n\n\n<!-- dependency-review-pr-comment-marker -->","createdAt":"2026-01-06T20:52:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[]},{"author":{"login":"codecov"},"authorAssociation":"NONE","body":"## [Codecov](https://app.codecov.io/gh/johndotpub/DiscordianAI/pull/224?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=johndotpub) Report\n:x: Patch coverage is `81.81818%` with `4 lines` in your changes missing coverage. Please review.\n:white_check_mark: Project coverage is 81.55%. Comparing base ([`7497d4a`](https://app.codecov.io/gh/johndotpub/DiscordianAI/commit/7497d4a5b35b47fb1f9fac03361b310b9e7ad802?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=johndotpub)) to head ([`908a61b`](https://app.codecov.io/gh/johndotpub/DiscordianAI/commit/908a61b7e5a554985ef5519732995f1f95761158?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=johndotpub)).\n:warning: Report is 16 commits behind head on main.\n\n| [Files with missing lines](https://app.codecov.io/gh/johndotpub/DiscordianAI/pull/224?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=johndotpub) | Patch % | Lines |\n|---|---|---|\n| [src/perplexity\\_processing.py](https://app.codecov.io/gh/johndotpub/DiscordianAI/pull/224?src=pr&el=tree&filepath=src%2Fperplexity_processing.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=johndotpub#diff-c3JjL3BlcnBsZXhpdHlfcHJvY2Vzc2luZy5weQ==) | 81.81% | [2 Missing and 2 partials :warning: ](https://app.codecov.io/gh/johndotpub/DiscordianAI/pull/224?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=johndotpub) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n\n```diff\n@@            Coverage Diff             @@\n##             main     #224      +/-   ##\n==========================================\n+ Coverage   79.27%   81.55%   +2.27%     \n==========================================\n  Files          19       19              \n  Lines        2461     2461              \n  Branches      361      361              \n==========================================\n+ Hits         1951     2007      +56     \n+ Misses        402      351      -51     \n+ Partials      108      103       -5     \n```\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/johndotpub/DiscordianAI/pull/224?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=johndotpub).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=johndotpub).\n<details><summary> :rocket: New features to boost your workflow: </summary>\n\n- :snowflake: [Test Analytics](https://docs.codecov.com/docs/test-analytics): Detect flaky tests, report on failures, and find test suite problems.\n</details>","createdAt":"2026-01-06T20:53:06Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[]}],"reviews":[{"author":{"login":"copilot-pull-request-reviewer"},"authorAssociation":"CONTRIBUTOR","body":"## Pull request overview\n\nThis release focuses on significantly improving test coverage for critical AI processing modules (`perplexity_processing` and `smart_orchestrator`) to exceed the 80% target, while also fixing a logic bug in citation extraction and standardizing QA configuration.\n\n### Key Changes\n- **Test coverage enhancements**: Added comprehensive tests for edge cases including URL scraping failures, API timeouts, legacy citation extraction, consistency-based routing overrides, and hybrid mode fallback chains\n- **Bug fix**: Corrected unreachable legacy citation extraction fallback logic by restructuring conditional flow\n- **Configuration standardization**: Unified linting configuration by removing redundant exclusions from `tox.ini` that are already defined in `pyproject.toml`\n\n### Reviewed changes\n\nCopilot reviewed 6 out of 6 changed files in this pull request and generated 2 comments.\n\n<details>\n<summary>Show a summary per file</summary>\n\n| File | Description |\r\n| ---- | ----------- |\r\n| `tox.ini` | Removed redundant `--exclude` parameters from lint/format commands, deferring to `pyproject.toml` configuration |\r\n| `tests/test_smart_orchestrator_coverage.py` | Added tests for consistency override routing and hybrid mode fallback chain; includes duplicate code issue |\r\n| `tests/test_perplexity_processing.py` | Added comprehensive tests for scraping failures, multi-URL handling, timeout scenarios, empty responses, and citation extraction fallbacks |\r\n| `src/perplexity_processing.py` | Fixed logic bug in citation extraction by restructuring conditional flow to make legacy fallback reachable; added defensive dict access patterns |\r\n| `pyproject.toml` | Version bump to 0.2.8.1 |\r\n| `CHANGELOG.md` | Documented test coverage improvements, bug fix, and configuration changes |\n</details>\n\n\n\n\n\n\n---\n\nüí° <a href=\"/johndotpub/DiscordianAI/new/main/.github/instructions?filename=*.instructions.md\" class=\"Link--inTextBlock\" target=\"_blank\" rel=\"noopener noreferrer\">Add Copilot custom instructions</a> for smarter, more guided reviews. <a href=\"https://docs.github.com/en/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot\" class=\"Link--inTextBlock\" target=\"_blank\" rel=\"noopener noreferrer\">Learn how to get started</a>.","submittedAt":"2026-01-06T20:55:33Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED"}]}
